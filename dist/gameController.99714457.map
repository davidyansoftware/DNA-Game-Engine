{"version":3,"sources":["gameController.js"],"names":["coinImage","Image","src","coinSprite","coin","width","height","image","loop","numberOfFrames","ticksPerFrame","startingColumn","startingRow","girlImage","girlSprite","girl_default","framesPerRow","girl_walk","girl_idle","girl_interact","girl_start_whistle","girl_whistle","canvas","Dna","Canvas","document","getElementById","GameObject","y","Components","Text","text","girl1image","updateOptions","girl1physics","SimplePhysics","girl1","x","rotation","Utilities","Degrees","coin11","coin12","window","addEventListener","Input","input","readInput","left","right","primary","secondary","input2","console","log","xv","transform","xScale"],"mappings":"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","file":"gameController.99714457.map","sourceRoot":"..","sourcesContent":["import coinSprite from \"./sprites/coin-sprite-animation-sprite-sheet.png\";\nimport girlSprite from \"./sprites/player_7.png\";\n\n//TODO need to handle states? - use different animation option for that?\nlet coinImage = new Image();\ncoinImage.src = coinSprite;\nlet coin = {\n  width: 44,\n  height: 44,\n  image: coinImage,\n  loop: true,\n\n  numberOfFrames: 10,\n  ticksPerFrame: 5,\n\n  startingColumn: 0,\n  startingRow: 0\n};\n\nlet girlImage = new Image();\ngirlImage.src = girlSprite;\nlet girl_default = {\n  width: 110,\n  height: 150,\n  image: girlImage,\n  loop: true,\n  framesPerRow: 6\n};\nlet girl_walk = {\n  numberOfFrames: 11,\n  ticksPerFrame: 5,\n\n  startingColumn: 0,\n  startingRow: 0\n};\nlet girl_idle = {\n  numberOfFrames: 4,\n  ticksPerFrame: 10,\n\n  startingColumn: 0,\n  startingRow: 2\n};\nlet girl_interact = {\n  numberOfFrames: 7,\n  ticksPerFrame: 5,\n\n  startingColumn: 4,\n  startingRow: 2\n};\nlet girl_start_whistle = {\n  numberOfFrames: 2,\n  ticksPerFrame: 5,\n\n  startingColumn: 4,\n  startingRow: 3\n};\n\nlet girl_whistle = {\n  numberOfFrames: 3,\n  ticksPerFrame: 10,\n\n  startingColumn: 0,\n  startingRow: 4\n};\n\nlet canvas = new Dna.Canvas(document.getElementById(\"canvas\"));\n\nnew Dna.GameObject(canvas, { y: -200 }, [\n  new Dna.Components.Text({ text: \"testing testing\" })\n]);\n\n//TODO allow lookup by component\nlet girl1image = new Dna.Components.Image(girl_default);\ngirl1image.updateOptions(girl_idle);\nlet girl1physics = new Dna.Components.SimplePhysics();\nlet girl1 = new Dna.GameObject(\n  canvas,\n  {\n    x: -100,\n    y: 0,\n    rotation: new Dna.Utilities.Degrees(20)\n  },\n  [girl1image, girl1physics]\n);\nlet coin11 = new Dna.GameObject(\n  girl1,\n  {\n    x: -50,\n    y: 0,\n    rotation: new Dna.Utilities.Degrees(20)\n  },\n  [new Dna.Components.Image(coin)]\n);\nlet coin12 = new Dna.GameObject(\n  girl1,\n  {\n    x: 50,\n    y: 0\n  },\n  [new Dna.Components.Image(coin)]\n);\n\n//TODO refactor input class\nwindow.addEventListener(\"load\", function() {\n  new Dna.Input.Input(canvas, input, readInput);\n});\n\nlet input = {\n  left: 65,\n  right: 68,\n  primary: 32,\n  secondary: 17\n};\n\nlet input2 = {\n  left: 37,\n  right: 39,\n  primary: 32,\n  secondary: 17\n};\n\nfunction readInput(input) {\n  console.log(input);\n  if (input.left && !input.right) {\n    girl1image.updateOptions(girl_walk);\n    girl1physics.xv = -5;\n    girl1.transform.xScale = -1;\n  } else if (input.right && !input.left) {\n    girl1image.updateOptions(girl_walk);\n    girl1physics.xv = 5;\n    girl1.transform.xScale = 1;\n  } else {\n    girl1physics.xv = 0;\n    if (input.primary) {\n      girl1image.updateOptions(girl_interact);\n    } else if (input.secondary) {\n      girl1image.updateOptions(girl_whistle);\n    } else {\n      girl1image.updateOptions(girl_idle);\n    }\n  }\n}\n"]}