{"version":3,"sources":["gameController.js"],"names":["coin","width","height","image","coinImage","loop","numberOfFrames","ticksPerFrame","startingColumn","startingRow","girl_walk","girlImage","xIndex","yIndex","framesPerRow","girl_idle","girl_interact","girl_start_whistle","girl_whistle","canvas","Dna","Canvas","document","getElementById","GameObject","y","Components","Text","text","girl1image","Image","girl1physics","SimplePhysics","girl1","x","rotation","Utilities","Degrees","coin11","coin12","window","onload","Input","input","readInput","left","right","primary","secondary","input2","console","log","updateOptions","xv","transform","xScale"],"mappings":"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","file":"gameController.map","sourceRoot":"..","sourcesContent":["import coinImage from \"./sprites/coin-sprite-animation-sprite-sheet.png\";\nimport girlImage from \"./sprites/player_7.png\";\n\n//TODO need to handle states? - use different animation option for that?\nlet coin = {\n  width: 44,\n  height: 44,\n  image: coinImage,\n  loop: true,\n\n  numberOfFrames: 10,\n  ticksPerFrame: 5,\n\n  startingColumn: 0,\n  startingRow: 0\n};\n\nlet girl_walk = {\n  width: 110,\n  height: 150,\n  image: girlImage,\n  loop: true,\n  numberOfFrames: 11,\n  ticksPerFrame: 5,\n\n  xIndex: 0,\n  yIndex: 0,\n\n  framesPerRow: 6\n};\n\nlet girl_idle = {\n  width: 110,\n  height: 150,\n  image: girlImage,\n  loop: true,\n  numberOfFrames: 4,\n  ticksPerFrame: 10,\n\n  startingColumn: 0,\n  startingRow: 2,\n  framesPerRow: 6\n};\n\nlet girl_interact = {\n  width: 110,\n  height: 150,\n  image: girlImage,\n  loop: true,\n  numberOfFrames: 7,\n  ticksPerFrame: 5,\n\n  xIndex: 0,\n  yIndex: 0,\n\n  startingColumn: 4,\n  startingRow: 2,\n  framesPerRow: 6\n};\n\nlet girl_start_whistle = {\n  width: 110,\n  height: 150,\n  image: girlImage,\n  loop: true,\n  numberOfFrames: 2,\n  ticksPerFrame: 5,\n\n  xIndex: 0,\n  yIndex: 0,\n\n  startingColumn: 4,\n  startingRow: 3,\n  framesPerRow: 6\n};\n\nlet girl_whistle = {\n  width: 110,\n  height: 150,\n  image: girlImage,\n  loop: true,\n  numberOfFrames: 3,\n  ticksPerFrame: 10,\n\n  xIndex: 0,\n  yIndex: 0,\n\n  startingColumn: 0,\n  startingRow: 4,\n  framesPerRow: 6\n};\n\nlet canvas = new Dna.Canvas(document.getElementById(\"canvas\"));\n\nnew Dna.GameObject(canvas, { y: -200 }, [\n  new Dna.Components.Text({ text: \"testing testing\" })\n]);\n\n//TODO allow lookup by component\nlet girl1image = new Dna.Components.Image(girl_idle);\nlet girl1physics = new Dna.Components.SimplePhysics();\nlet girl1 = new Dna.GameObject(\n  canvas,\n  {\n    x: -100,\n    y: 0,\n    rotation: new Dna.Utilities.Degrees(20)\n  },\n  [girl1image, girl1physics]\n);\nlet coin11 = new Dna.GameObject(\n  girl1,\n  {\n    x: -50,\n    y: 0,\n    rotation: new Dna.Utilities.Degrees(20)\n  },\n  [new Dna.Components.Image(coin)]\n);\nlet coin12 = new Dna.GameObject(\n  girl1,\n  {\n    x: 50,\n    y: 0\n  },\n  [new Dna.Components.Image(coin)]\n);\n\n//TODO refactor input class\n//TODO use an event handler to avoid overwritting other onloads\nwindow.onload = function() {\n  new Dna.Input.Input(canvas, input, readInput);\n};\n\nlet input = {\n  left: 65,\n  right: 68,\n  primary: 32,\n  secondary: 17\n};\n\nlet input2 = {\n  left: 37,\n  right: 39,\n  primary: 32,\n  secondary: 17\n};\n\nfunction readInput(input) {\n  console.log(input);\n  if (input.left && !input.right) {\n    girl1image.updateOptions(girl_walk);\n    girl1physics.xv = -5;\n    girl1.transform.xScale = -1;\n  } else if (input.right && !input.left) {\n    girl1image.updateOptions(girl_walk);\n    girl1physics.xv = 5;\n    girl1.transform.xScale = 1;\n  } else {\n    girl1physics.xv = 0;\n    if (input.primary) {\n      girl1image.updateOptions(girl_interact);\n    } else if (input.secondary) {\n      girl1image.updateOptions(girl_whistle);\n    } else {\n      girl1image.updateOptions(girl_idle);\n    }\n  }\n}\n"]}